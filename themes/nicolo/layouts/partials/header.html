<header
  class="mx-auto w-screen max-w-screen-md px-6 py-6"
>
  <nav class="flex flex-col">
    <div class="flex justify-between gap-2">
      <div class="z-10">
        <a
          href="{{ .Site.Home.Permalink }}"
          class="text-emerald-700 dark:text-emerald-400 hover:text-zinc-950 hover:dark:text-zinc-50 font-bold"
          >
            {{ .Site.Title }}.com
        </a>
      </div>
      <div class="flex flex-col gap-2">
        {{ $pageURL := .Permalink | safeURL }}
        {{ $pageTitle := .Title | safeHTML }}
        <input id="sections-toggle" type="checkbox" class="peer" style="all: unset; position: absolute;" />
        <label
          for="sections-toggle"
          class="group h-full flex flex-col justify-around text-zinc-400 dark:text-zinc-600 hover:text-emerald-600 dark:hover:text-emerald-400 z-10 hover:cursor-pointer"
        >
          <span class="w-6 h-[3px] bg-zinc-950 dark:bg-zinc-50 group-hover:bg-emerald-700 group-hover:dark:bg-emerald-400 peer-focus:group-[]:bg-emerald-700 peer-focus:group-[]:dark:bg-emerald-400 peer-checked:group-[]:origin-center peer-checked:group-[]:rotate-45 peer-checked:group-[]:translate-y-1.5 transition-transform duration-1000 ease-out-gentle"></span>
          <span class="w-6 h-[3px] bg-zinc-950 dark:bg-zinc-50 group-hover:bg-emerald-700 group-hover:dark:bg-emerald-400 peer-focus:group-[]:bg-emerald-700 peer-focus:group-[]:dark:bg-emerald-400 peer-checked:group-[]:origin-center peer-checked:group-[]:-rotate-45 peer-checked:group-[]:-translate-y-1.5 transition-transform duration-1000 ease-out-gentle"></span>
        </label>
        <div id="sections-menu" class="flex justify-center invisible peer-checked:visible absolute -top-full peer-checked:top-0 group left-0 w-full h-dvh bg-zinc-50 dark:bg-zinc-950 z-[5] text-zinc-950 dark:text-zinc-50 [transition:top_1s_cubic-bezier(.08,.52,0,1),visibility_1s_1s] peer-checked:[transition:top_1s_cubic-bezier(.08,.52,0,1)]">
          <div class="flex flex-col justify-center h-full w-full">
            <div class="flex justify-center items-baseline">
              <a
                href="{{ site.Home.Permalink }}"
                class="relative text-4xl sm:text-6xl font-semibold hover:text-emerald-700 hover:dark:text-emerald-600 transition-opacity duration-700 ease-in-out delay-[400ms] opacity-0 peer-checked:group-[]:opacity-100"
              >
                <div>
                  {{ "home" | T | upper }}
                </div>
                {{ if eq site.Home . }}
                  <div class="text-emerald-700 dark:text-emerald-600 absolute bottom-0 -left-3 sm:-left-5 select-none pointer-events-none">
                    >
                  </div>
                {{ end }}
              </a>
            </div>
            {{ range $i, $section := site.Sections.ByWeight }}
              {{ $staggeredAnimationDelay := printf "%d00ms" (add 5 $i) }}
              <div class="flex justify-center items-baseline">
                <a
                  href="{{ $section.Permalink }}"
                  class="relative text-4xl sm:text-6xl font-semibold hover:text-emerald-700 hover:dark:text-emerald-600 transition-opacity duration-700 ease-in-out opacity-0 peer-checked:group-[]:opacity-100"
                  style="transition-delay: {{ $staggeredAnimationDelay }}"
                >
                  <div>
                    {{ $section.Name | upper | safeHTML }}
                  </div>
                  {{ if or (.IsAncestor $) (eq $ .) }}
                    <div class="text-emerald-700 dark:text-emerald-600 absolute bottom-0 -left-3 sm:-left-5 select-none pointer-events-none">
                      >
                    </div>
                  {{ end }}
                </a>
              </div>
            {{ end }}
          </div>
        </div>
      </div>
    </div>
  </nav>
</header>
