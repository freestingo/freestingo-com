{{ define "main" }}
  <article
    class="justify-self-center mx-auto mb-10"
  >
    <h1 class="font-display !mb-2 sm:!mb-4">{{ .Title }}</h1>
    <h2 class="!mt-3 !mb-4 sm:!mb-5">
      {{ .Summary }}
    </h2>

    <div class="text-sm mb-5 sm:mb-7">
      {{ $taxonomy := "topics" }}
      {{ with .GetTerms $taxonomy }}
        <p>
          {{ lower (site.GetPage $taxonomy).LinkTitle }}:
          {{ range $k, $_ := . -}}
            {{ if $k }},{{ end }}
            <a href="{{ .RelPermalink }}" class="not-prose font-semibold hover:text-emerald-600 dark:hover:text-emerald-400">{{ lower .LinkTitle }}</a>
          {{- end }}
        </p>
      {{ end }}
    </div>

    {{ .Content }}
  </article>

  {{ $pages := where .Site.RegularPages.ByWeight ".CurrentSection.Title" .CurrentSection.Title }}
  <div
    class="grid grid-cols-3 mb-8 justify-between items-start"
  >
    <div class="flex justify-start">
      {{ with $pages.Prev . }}
        <a href="{{ .RelPermalink }}">{{ "previous" | T }}</a>
      {{ end }}
    </div>

    <div>
      {{ partial "share-buttons" . }}
    </div>

    <div class="flex justify-end">
      {{ with $pages.Next . }}
        <a href="{{ .RelPermalink }}">{{ "next" | T }}</a>
      {{ end }}
    </div>
  </div>
{{ end }}
