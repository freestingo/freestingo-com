{{ define "main" }}
  <article
    class="justify-self-center mx-auto mb-10"
  >
    <h1 class="!mb-2 sm:!mb-4">{{ .Title }}</h1>
    <h2 class="!mt-3 !mb-4 sm:!mb-5">
      {{ .Summary }}
    </h2>

    <div class="text-sm mb-5 sm:mb-7">
      {{ $taxonomy := "topics" }}
      {{ with .GetTerms $taxonomy }}
        <div class="flex flex-wrap">
          {{ range . -}}
            <a href="{{ .RelPermalink }}" class="not-prose border px-2 py-1 font-semibold hover:bg-emerald-800 grow hover:grow-[2] transition-[flex-grow] ease-in-out duration-300 text-center">
              <div>{{ lower .LinkTitle }}</div>
            </a>
          {{- end }}
        </div>
      {{ end }}
    </div>

    <div class="sm:leading-snug">
      {{ .Content }}
    </div>
  </article>

  {{ $pages := where .Site.RegularPages.ByWeight ".CurrentSection.Title" .CurrentSection.Title }}
  <div
    class="not-prose grid grid-cols-3 mb-8 justify-between items-baseline"
  >
    <div class="flex justify-start">
      {{ with $pages.Prev . }}
        <a href="{{ .RelPermalink }}" class="border rounded-full leading-none p-2 hover:bg-emerald-800 hover:px-3 transition-[padding] ease-in-out duration-300 text-center">←</a>
      {{ end }}
    </div>

    <div>
      {{ partial "share-buttons" . }}
    </div>

    <div class="flex justify-end">
      {{ with $pages.Next . }}
        <a href="{{ .RelPermalink }}" class="border rounded-full leading-none p-2 hover:bg-emerald-800 hover:px-3 transition-[padding] ease-in-out duration-300 text-center">→</a>
      {{ end }}
    </div>
  </div>
{{ end }}
