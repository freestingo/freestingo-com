{{ define "modularCss" }}
  {{ if .Params.ContainsCodeBlocks }}
    {{- $codeStyle := resources.Get "css/code.css" | minify | fingerprint -}}
    {{ $codeStyle.Content | safeCSS }}
  {{ end }}
{{ end }}

{{ define "main" }}
  <article>
    {{ partial "article-header.html" . }}

    <div>
      {{ .Content }}
    </div>
  </article>

  {{ $pages := where .Site.RegularPages.ByWeight ".CurrentSection.Title" .CurrentSection.Title }}
  {{ if or ($pages.Prev .) ($pages.Next .) }}
    <p style="display:grid;grid-template-columns:repeat(2,minmax(0,1fr));justify-content:space-between;align-items:baseline;">
      {{ with $pages.Prev . }}
        <a style="display:flex;justify-content:flex-start;" href="{{ .RelPermalink }}">← {{ .Title }}</a>
      {{ else }}
        <span></span>
      {{ end }}

      {{ with $pages.Next . }}
        <a style="display:flex;justify-content:flex-end;" href="{{ .RelPermalink }}">→ {{ .Title }}</a>
      {{ else }}
        <span></span>
      {{ end }}
    </p>
  {{ end }}
{{ end }}
